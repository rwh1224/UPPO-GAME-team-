<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¹„ë°€ì˜ ì£¼ì¸ ì°¾ê¸° - 8ê°œ ì¡° ì¶”ë¦¬ ê²Œì„</title>
    <style>
        :root { --primary-color: #4a90e2; --bg-color: #f0f2f5; --card-bg: #ffffff; }
        body { font-family: 'Pretendard', -apple-system, sans-serif; background-color: var(--bg-color); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { width: 90%; max-width: 500px; text-align: center; padding: 20px; }
        .team-title { font-size: 2.2rem; font-weight: 800; color: var(--primary-color); margin-bottom: 25px; text-shadow: 2px 2px 4px rgba(0,0,0,0.05); }
        .card-container { display: grid; gap: 15px; margin-bottom: 30px; }
        .hint-card { background: var(--card-bg); padding: 18px; border-radius: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); text-align: left; border: 1px solid #eee; }
        .category { font-size: 0.8rem; color: #4a90e2; margin-bottom: 6px; font-weight: bold; text-transform: uppercase; }
        .content { font-size: 1.15rem; color: #2c3e50; line-height: 1.5; font-weight: 500; word-break: keep-all; }
        .btn-next { background: linear-gradient(135deg, #4a90e2, #357abd); color: white; border: none; padding: 18px 50px; font-size: 1.2rem; font-weight: bold; border-radius: 50px; cursor: pointer; box-shadow: 0 5px 15px rgba(74, 144, 226, 0.3); transition: all 0.2s; }
        .btn-next:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(74, 144, 226, 0.4); }
        .btn-next:active { transform: scale(0.98); }
        .progress { margin-top: 15px; color: #888; font-size: 1rem; font-weight: 600; }
        .loading { font-size: 1.2rem; color: #666; font-weight: bold; }
    </style>
</head>
<body>

<div class="container" id="main-ui" style="display:none;">
    <div id="team-name" class="team-title">ë¡œë”© ì¤‘...</div>
    
    <div class="card-container">
        <div class="hint-card"><div class="category">ë¬¸í•­ 1. ìì£¼í•˜ëŠ” ìƒí™œ</div><div id="hint1" class="content"></div></div>
        <div class="hint-card"><div class="category">ë¬¸í•­ 2. 2026ë…„ ê°€ì¥ í° ì†Œë¹„</div><div id="hint2" class="content"></div></div>
        <div class="hint-card"><div class="category">ë¬¸í•­ 3. ì¢‹ì•„í•˜ëŠ” OOO</div><div id="hint3" class="content"></div></div>
        <div class="hint-card"><div class="category">ë¬¸í•­ 4. ì œì¼ ì‹«ì–´í•˜ëŠ” ê²ƒ</div><div id="hint4" class="content"></div></div>
        <div class="hint-card"><div class="category">ë¬¸í•­ 5. ì´ ëª¨ì„ ì•„ëŠ” ì‚¬ëŒ ìˆ˜</div><div id="hint5" class="content"></div></div>
    </div>

    <button class="btn-next" onclick="nextTeam()">ë‹¤ìŒ ì¡° í™•ì¸í•˜ê¸°</button>
    <div id="progress-text" class="progress"></div>
</div>

<div id="loader" class="loading">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>

<script>
    // ğŸ’¡ êµ¬ê¸€ ì‹œíŠ¸ 'ì›¹ì— ê²Œì‹œ'ì—ì„œ ë³µì‚¬í•œ CSV URLì„ ì—¬ê¸°ì— ë„£ìœ¼ì„¸ìš”!
    const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTb3pHCzC3HNfUHWAzmCA43vK-5k1UKTJ4yMMbHGwxvAfCuiP5K-LR_ZcZUSlwYyQZy7SOmcbThXPYj/pub?output=csv";

    let teamsData = [];
    let currentIndex = 0;

    async function fetchSheetData() {
        try {
            const response = await fetch(sheetUrl);
            const data = await response.text();
            
            // CSV íŒŒì‹±: ì¤„ë°”ê¿ˆìœ¼ë¡œ ë‚˜ëˆ„ê³  ì²« ë²ˆì§¸ ì¤„(í—¤ë”)ì€ ì œì™¸
            const rows = data.split(/\r?\n/).slice(1); 
            
            teamsData = rows.map(row => {
                // ë”°ì˜´í‘œ ì•ˆì˜ ì‰¼í‘œë¥¼ ë¬´ì‹œí•˜ê³  ë¶„ë¦¬í•˜ëŠ” ì •ê·œì‹
                const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                
                // ì•Œë ¤ì£¼ì‹  ìœ„ì¹˜ ë°˜ì˜ (0ë¶€í„° ì‹œì‘í•˜ë¯€ë¡œ A=0, B=1, C=2, D=3, E=4, F=5, G=6)
                if (cols.length >= 7) {
                    return {
                        name: cols[1].replace(/"/g, '').trim(), // Bì—´: ì¡° ì´ë¦„
                        hints: [
                            cols[2], // Cì—´: ë¬¸í•­ 1
                            cols[3], // Dì—´: ë¬¸í•­ 2
                            cols[4], // Eì—´: ë¬¸í•­ 3
                            cols[5], // Fì—´: ë¬¸í•­ 4
                            cols[6]  // Gì—´: ë¬¸í•­ 5
                        ]
                    };
                }
                return null;
            }).filter(item => item !== null && item.name !== "");

            if (teamsData.length > 0) {
                document.getElementById('loader').style.display = 'none';
                document.getElementById('main-ui').style.display = 'block';
                updateDisplay();
            } else {
                document.getElementById('loader').innerText = "ì…ë ¥ëœ ì¡° ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.";
            }
        } catch (error) {
            console.error(error);
            document.getElementById('loader').innerText = "ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨. URLì„ í™•ì¸í•´ì£¼ì„¸ìš”.";
        }
    }

    function updateDisplay() {
        const team = teamsData[currentIndex];
        document.getElementById('team-name').innerText = team.name + " ì¶”ë¦¬í•˜ê¸°";
        
        // í…ìŠ¤íŠ¸ ì•ë’¤ ë”°ì˜´í‘œ ì œê±° ë° ì¶œë ¥
        for (let i = 0; i < 5; i++) {
            const content = team.hints[i] ? team.hints[i].replace(/"/g, '').trim() : "ë‚´ìš© ì—†ìŒ";
            document.getElementById(`hint${i+1}`).innerText = content;
        }
        
        document.getElementById('progress-text').innerText = `${currentIndex + 1} / ${teamsData.length}`;
    }

    function nextTeam() {
        if (teamsData.length === 0) return;
        currentIndex = (currentIndex + 1) % teamsData.length;
        updateDisplay();
    }

    fetchSheetData();
</script>

</body>
</html>
