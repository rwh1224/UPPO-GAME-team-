<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>μ—…λ¬΄ν¬ν„Έ λ‹¨μ²΄κ²μ„ <μ΄ μ‚¬λμ„ μ°Ύμ•„λΌ></title>
    <style>
        :root { --primary-color: #4a90e2; --bg-color: #f0f2f5; --card-bg: #ffffff; }
        body { font-family: 'Pretendard', -apple-system, sans-serif; background-color: var(--bg-color); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { width: 90%; max-width: 500px; text-align: center; padding: 20px; }
        .team-title { font-size: 2.2rem; font-weight: 800; color: var(--primary-color); margin-bottom: 25px; text-shadow: 2px 2px 4px rgba(0,0,0,0.05); }
        .card-container { display: grid; gap: 15px; margin-bottom: 30px; }
        .hint-card { background: var(--card-bg); padding: 18px; border-radius: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); text-align: left; border: 1px solid #eee; }
        .category { font-size: 0.8rem; color: #4a90e2; margin-bottom: 6px; font-weight: bold; text-transform: uppercase; }
        .content { font-size: 1.15rem; color: #2c3e50; line-height: 1.5; font-weight: 500; word-break: keep-all; }
        .btn-next { background: linear-gradient(135deg, #4a90e2, #357abd); color: white; border: none; padding: 18px 50px; font-size: 1.2rem; font-weight: bold; border-radius: 50px; cursor: pointer; box-shadow: 0 5px 15px rgba(74, 144, 226, 0.3); transition: all 0.2s; }
        .btn-next:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(74, 144, 226, 0.4); }
        .btn-next:active { transform: scale(0.98); }
        .progress { margin-top: 15px; color: #888; font-size: 1rem; font-weight: 600; }
        .loading { font-size: 1.2rem; color: #666; font-weight: bold; }
    </style>
</head>
<body>

<div class="container" id="main-ui" style="display:none;">
    <div id="team-name" class="team-title">λ΅λ”© μ¤‘...</div>
    
    <div class="card-container">
        <div class="hint-card"><div class="category">λ¬Έν•­ 1. μ΄ μ‚¬λμ μμ£Όν•λ” μƒν™μµκ΄€μ΄ λ¬΄μ—‡μΈκ°€μ”?</div><div id="hint1" class="content"></div></div>
        <div class="hint-card"><div class="category">λ¬Έν•­ 2. μ΄ μ‚¬λμ 2026λ…„ κ°€μ¥ ν° μ†λΉ„λ”?</div><div id="hint2" class="content"></div></div>
        <div class="hint-card"><div class="category">λ¬Έν•­ 3. μ΄ μ‚¬λ μ¤μ¤λ΅κ°€ μ΄μ½μΈκ±Έ μ•μ•λ λ‚μ΄λ” λ‡μΈκ°€μ”?</div><div id="hint3" class="content"></div></div>
        <div class="hint-card"><div class="category">λ¬Έν•­ 4. μ΄ μ‚¬λμ΄ μ μΌ μ‹«μ–΄ν•λ” κ²ƒμ€?</div><div id="hint4" class="content"></div></div>
        <div class="hint-card"><div class="category">λ¬Έν•­ 5. μ΄ μ‚¬λμ΄ μΆ‹μ•„ν•λ” μ μ•μ£Όλ”?</div><div id="hint5" class="content"></div></div>
    </div>

    <button class="btn-next" onclick="nextTeam()">λ‹¤μ μ΅° ν™•μΈν•κΈ°</button>
    <div id="progress-text" class="progress"></div>
</div>

<div id="loader" class="loading">λ°μ΄ν„°λ¥Ό λ¶λ¬μ¤λ” μ¤‘μ…λ‹λ‹¤...</div>

<script>
    // π’΅ κµ¬κΈ€ μ‹νΈ 'μ›Ήμ— κ²μ‹'μ—μ„ λ³µμ‚¬ν• CSV URLμ„ μ—¬κΈ°μ— λ„£μΌμ„Έμ”!
    const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTb3pHCzC3HNfUHWAzmCA43vK-5k1UKTJ4yMMbHGwxvAfCuiP5K-LR_ZcZUSlwYyQZy7SOmcbThXPYj/pub?output=csv";

    let teamsData = [];
    let currentIndex = 0;

    async function fetchSheetData() {
        try {
            const response = await fetch(sheetUrl);
            const data = await response.text();
            
            // CSV νμ‹±: μ¤„λ°”κΏμΌλ΅ λ‚λ„κ³  μ²« λ²μ§Έ μ¤„(ν—¤λ”)μ€ μ μ™Έ
            const rows = data.split(/\r?\n/).slice(1); 
            
            teamsData = rows.map(row => {
                // λ”°μ΄ν‘ μ•μ μ‰Όν‘λ¥Ό λ¬΄μ‹ν•κ³  λ¶„λ¦¬ν•λ” μ •κ·μ‹
                const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                
                // μ•λ ¤μ£Όμ‹  μ„μΉ λ°μ (0λ¶€ν„° μ‹μ‘ν•λ―€λ΅ A=0, B=1, C=2, D=3, E=4, F=5, G=6)
                if (cols.length >= 7) {
                    return {
                        name: cols[1].replace(/"/g, '').trim(), // Bμ—΄: μ΅° μ΄λ¦„
                        hints: [
                            cols[2], // Cμ—΄: λ¬Έν•­ 1
                            cols[3], // Dμ—΄: λ¬Έν•­ 2
                            cols[4], // Eμ—΄: λ¬Έν•­ 3
                            cols[5], // Fμ—΄: λ¬Έν•­ 4
                            cols[6]  // Gμ—΄: λ¬Έν•­ 5
                        ]
                    };
                }
                return null;
            }).filter(item => item !== null && item.name !== "");

            if (teamsData.length > 0) {
                document.getElementById('loader').style.display = 'none';
                document.getElementById('main-ui').style.display = 'block';
                updateDisplay();
            } else {
                document.getElementById('loader').innerText = "μ…λ ¥λ μ΅° λ°μ΄ν„°κ°€ μ—†μµλ‹λ‹¤.";
            }
        } catch (error) {
            console.error(error);
            document.getElementById('loader').innerText = "λ°μ΄ν„° λ΅λ“ μ‹¤ν¨. URLμ„ ν™•μΈν•΄μ£Όμ„Έμ”.";
        }
    }

    function updateDisplay() {
        const team = teamsData[currentIndex];
        document.getElementById('team-name').innerText = team.name + " μ¶”λ¦¬ν•κΈ°";
        
        // ν…μ¤νΈ μ•λ’¤ λ”°μ΄ν‘ μ κ±° λ° μ¶λ ¥
        for (let i = 0; i < 5; i++) {
            const content = team.hints[i] ? team.hints[i].replace(/"/g, '').trim() : "λ‚΄μ© μ—†μ";
            document.getElementById(`hint${i+1}`).innerText = content;
        }
        
        document.getElementById('progress-text').innerText = `${currentIndex + 1} / ${teamsData.length}`;
    }

    function nextTeam() {
        if (teamsData.length === 0) return;
        currentIndex = (currentIndex + 1) % teamsData.length;
        updateDisplay();
    }

    fetchSheetData();
</script>

</body>
</html>
